(function(){"use strict";var e={6301:function(e,t,o){var n=o(9963),r=o(6252);const a={class:"container"};function s(e,t,o,n,s,u){const i=(0,r.up)("Header"),l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r.Wm)(i),(0,r.Wm)(l)])}var u=o(3577);const i={class:"navigation"},l={class:"navigation_list"};function c(e,t,o,n,a,s){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("nav",i,[(0,r._)("ul",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.links,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.path},[(0,r.Wm)(c,{"active-class":"active",to:{name:e.path},class:"navigation_list-link"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])])}var d={name:"header-component",data(){return{links:[{name:"Home",path:"home"},{name:"Create",path:"newPost"}]}}},p=o(3744);const f=(0,p.Z)(d,[["render",c]]);var h=f,m={components:{Header:h}};const _=(0,p.Z)(m,[["render",s]]);var g=_,v=o(2201);const b=e=>((0,r.dD)("data-v-0ea9ae5e"),e=e(),(0,r.Cn)(),e),y={class:"searchBar"},q={class:"searchBar-input"},w={class:"searchBar-filters"},E={class:"radio-group"},T=b((()=>(0,r._)("label",{for:"radio1"},"Автор",-1))),k=b((()=>(0,r._)("label",{for:"radio2"},"Текст",-1))),A={class:"filters"},D={value:"",selected:""},x=["value"],S=b((()=>(0,r._)("label",null,null,-1))),O=["value"],Q={class:"quotes"},C={class:"quotes_card-header"},U={class:"genre"},V={class:"quotes_card-options"},j=["onClick"],P={class:"quotes_card-text"},$={class:"quotes_card-footer"},G={class:"quotes_card-footer-author"},L={class:"quotes_card-footer-date"},M={class:"quotes_card-footer-date"};function H(e,t,o,a,s,i){const l=(0,r.up)("ion-icon"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",y,[(0,r._)("div",q,[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"Search","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchValue=e)},null,512),[[n.nr,s.searchValue]]),(0,r.Wm)(l,{name:"search-outline"})]),(0,r._)("div",w,[(0,r._)("div",E,[(0,r.wy)((0,r._)("input",{type:"radio",id:"radio1",name:"radio-group","onUpdate:modelValue":t[1]||(t[1]=e=>s.searchType=e),value:"quoteAuthor"},null,512),[[n.G2,s.searchType]]),T,(0,r.wy)((0,r._)("input",{type:"radio",id:"radio2",name:"radio-group","onUpdate:modelValue":t[2]||(t[2]=e=>s.searchType=e),value:"quoteText"},null,512),[[n.G2,s.searchType]]),k])]),(0,r._)("div",A,[(0,r._)("div",null,[(0,r._)("label",null,(0,u.zw)(s.filter_genre),1),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filter_genre=e)},[(0,r._)("option",D,(0,u.zw)(""===s.filter_genre?"Выберите жанр":"Сбросить"),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.genres,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,u.zw)(e),9,x)))),128))],512),[[n.bM,s.filter_genre]])]),(0,r._)("div",null,[S,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.sort_date=e)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.dataArr,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,u.zw)("createAt"===e?"Дата создания":"Дата изменения"),9,O)))),128))],512),[[n.bM,s.sort_date]])])])]),(0,r._)("section",Q,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.quotes,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"quotes_card",key:t.id},[(0,r._)("div",C,[(0,r._)("div",U,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t?.quoteGenre,(e=>((0,r.wg)(),(0,r.iD)("span",{class:"quotes_card-genre",key:e.id},(0,u.zw)(e),1)))),128))]),(0,r._)("div",V,[(0,r.Wm)(c,{to:`/${t.id}`,class:"btn"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{name:"open-outline",size:"medium"})])),_:2},1032,["to"]),(0,r._)("button",{class:"btn delete",onClick:(0,n.iM)((e=>i.remove(t.id)),["prevent"])},[(0,r.Wm)(l,{name:"trash-outline"})],8,j)])]),(0,r._)("p",P,(0,u.zw)(t?.quoteText),1),(0,r._)("div",$,[(0,r._)("p",G,[(0,r._)("i",null,(0,u.zw)(t?.quoteAuthor),1)]),(0,r._)("div",null,[(0,r._)("p",L," create at: "+(0,u.zw)(e.parseDate(t?.createAt)),1),(0,r._)("p",M," last edit: "+(0,u.zw)(e.parseDate(t?.lastEdit)),1)])])])))),128))])],64)}var N=o(3907),z=o(7067),Z={name:"home-page",mixins:[z.Z],data(){return{searchValue:"",searchType:"quoteAuthor",filter_genre:"",sort_date:"createAt",dataArr:["createAt","lastEdit"]}},computed:{quotes(){return this.$store.getters["quotes/get_quotes"]},genres(){return this.$store.getters["quotes/get_genres"]}},watch:{searchValue(e){this.$store.commit("quotes/SET_SEARCH_VALUE",{value:e,type:this.searchType})},filter_genre(e){""!==this.filter_genre?this.$store.commit("quotes/SET_FILTER_GENRE",e):this.$store.commit("quotes/SET_FILTER_GENRE","")},sort_date(e){this.$store.commit("quotes/SET_TYPE_DATE",e)}},methods:{...(0,N.nv)("quotes",["getQuotes","removeQuote"]),remove(e){this.removeQuote(e),this.$store.commit("quotes/REMOVE_QUOTE",e)}},async mounted(){0===this.$store.getters["quotes/get_quotes"].length&&await this.getQuotes()}};const R=(0,p.Z)(Z,[["render",H],["__scopeId","data-v-0ea9ae5e"]]);var B=R;const Y=e=>((0,r.dD)("data-v-4309998c"),e=e(),(0,r.Cn)(),e),F={class:"container mt-5"},W={class:"form-wrapper"},I={class:"form_left"},K={class:"form-group"},J=Y((()=>(0,r._)("label",null,"Текст цитаты*",-1))),X={class:"form_right"},ee={class:"form-group"},te=Y((()=>(0,r._)("label",null,"Автор цитаты*",-1))),oe={class:"form-group_checkbox"},ne=Y((()=>(0,r._)("p",null,"Жанр*",-1))),re={class:"checkbox"},ae=Y((()=>(0,r._)("span",{class:"checkbox__icon"},null,-1))),se=Y((()=>(0,r._)("span",{class:"checkbox__label"},"Философия",-1))),ue={class:"checkbox"},ie=Y((()=>(0,r._)("span",{class:"checkbox__icon"},null,-1))),le=Y((()=>(0,r._)("span",{class:"checkbox__label"},"Мотивация",-1))),ce={class:"checkbox"},de=Y((()=>(0,r._)("span",{class:"checkbox__icon"},null,-1))),pe=Y((()=>(0,r._)("span",{class:"checkbox__label"},"Комедия",-1))),fe=Y((()=>(0,r._)("button",{type:"submit",class:"btn"},"Отправить",-1)));function he(e,t,o,a,s,u){return(0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("div",W,[(0,r._)("form",{onSubmit:t[5]||(t[5]=(0,n.iM)(((...e)=>u.submitQuote&&u.submitQuote(...e)),["prevent"])),class:"form"},[(0,r._)("div",I,[(0,r._)("div",K,[J,(0,r.wy)((0,r._)("textarea",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.quote.quoteText=e),placeholder:"Какой-то текст..."},null,512),[[n.nr,s.quote.quoteText]])])]),(0,r._)("div",X,[(0,r._)("div",ee,[te,(0,r.wy)((0,r._)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.quote.quoteAuthor=e),placeholder:"Какой-то автор..."},null,512),[[n.nr,s.quote.quoteAuthor]])]),(0,r._)("div",oe,[ne,(0,r._)("label",re,[(0,r.wy)((0,r._)("input",{type:"checkbox",name:"example","onUpdate:modelValue":t[2]||(t[2]=e=>s.genrePhilosophy=e)},null,512),[[n.e8,s.genrePhilosophy]]),ae,se]),(0,r._)("label",ue,[(0,r.wy)((0,r._)("input",{type:"checkbox",name:"example","onUpdate:modelValue":t[3]||(t[3]=e=>s.genreMotivation=e)},null,512),[[n.e8,s.genreMotivation]]),ie,le]),(0,r._)("label",ce,[(0,r.wy)((0,r._)("input",{type:"checkbox",name:"example","onUpdate:modelValue":t[4]||(t[4]=e=>s.genreComedy=e)},null,512),[[n.e8,s.genreComedy]]),de,pe])])]),fe],32)])])}o(7658);var me={name:"create-page",data(){return{quote:{quoteText:"",quoteAuthor:"",quoteGenre:[]},genreComedy:!1,genrePhilosophy:!1,genreMotivation:!1}},methods:{async submitQuote(){const{quoteText:e,quoteAuthor:t}=this.quote,o=[],n={genreComedy:"Комедия",genrePhilosophy:"Философия",genreMotivation:"Мотивация"};Object.entries(n).forEach((([e,t])=>{this[e]&&o.push(t)})),0!==o.length?(this.quote.quoteGenre=o,[e.trim(),t.trim()].every(Boolean)?(this.quote.createAt=(new Date).getTime(),this.quote.lastEdit=this.quote.createAt,this.$store.dispatch("quotes/createQuote",this.quote),this.$router.push("/"),this.quote={}):console.log("Пожалуйста, заполните все поля")):console.log("Пожалуйста, выберите хотя бы один жанр")}}};const _e=(0,p.Z)(me,[["render",he],["__scopeId","data-v-4309998c"]]);var ge=_e;const ve=()=>o.e(382).then(o.bind(o,1382)),be=[{name:"home",path:"/",component:B},{path:"/:id",component:ve,name:"quote"},{name:"newPost",path:"/new-post",component:ge}],ye=(0,v.p7)({history:(0,v.PO)("/Alif-tech/"),routes:be});var qe=ye,we=(o(541),o(6154)),Ee={namespaced:!0,state:()=>({quotes:[],filteredQuotes:[],filteredSearchQuotes:[],filterGenre:"",searchValue:"",typeDate:"createAt",quote:null}),mutations:{ADD_QUOTE(e,t){e.quotes.unshift(t)},SET_QUOTES(e,t){e.quotes=t},SET_QUOTE(e,t){e.quote=t},REMOVE_QUOTE(e,t){e.quotes=e.quotes.filter((e=>e.id!==t))},UPDATE_QUOTE(e,{id:t,body:o}){e.quotes=e.quotes.map((e=>{if(e.id===t){const t={...e};for(let e in o)t[e]!==o[e]&&(t[e]=o[e]);return t}return e}))},SET_FILTER_GENRE(e,t){e.filterGenre=t,e.filteredQuotes=""!==t?e.quotes.filter((e=>e.quoteGenre.includes(t))):e.quotes},SET_TYPE_DATE(e,t){e.typeDate=t},SET_SEARCH_VALUE(e,{value:t,type:o}){if(e.searchValue=t,""!==t){let n=e.quotes.filter((e=>e[o].toLowerCase().includes(t.toLowerCase())));e.filteredSearchQuotes=n.sort(((e,t)=>e[o].localeCompare(t[o],void 0,{sensitivity:"base",ignorePunctuation:!0})))}else e.filteredSearchQuotes=e.quotes}},actions:{async createQuote({commit:e},t){try{const{data:o}=await we.Z.post("https://aliftech-bcdc3-default-rtdb.europe-west1.firebasedatabase.app/quotes.json",t),n={...t,id:o?.name};e("ADD_QUOTE",n)}catch(o){console.log(o)}},async getQuotes({commit:e}){try{const{data:t}=await we.Z.get("https://aliftech-bcdc3-default-rtdb.europe-west1.firebasedatabase.app/quotes.json"),o=Object.keys(t).map((e=>({id:e,...t[e]})));e("SET_QUOTES",o)}catch(t){console.log(t)}},async getQuote({commit:e},t){try{const{data:o}=await we.Z.get(`https://aliftech-bcdc3-default-rtdb.europe-west1.firebasedatabase.app/quotes/${t}.json`);e("SET_QUOTE",o)}catch(o){console.log(o)}},async removeQuote(e,t){try{await we.Z["delete"](`https://aliftech-bcdc3-default-rtdb.europe-west1.firebasedatabase.app/quotes/${t}.json`)}catch(o){console.log(o)}},async updateQuote(e,{id:t,body:o}){try{await we.Z.patch(`https://aliftech-bcdc3-default-rtdb.europe-west1.firebasedatabase.app/quotes/${t}.json`,o)}catch(n){console.log(n)}}},getters:{get_quotes:e=>{let t=e.quotes;return""!==e.filterGenre&&(t=e.filteredQuotes),""!==e.searchValue&&(t=e.filteredSearchQuotes),(0,z.T)(t,e.typeDate)},get_quote:e=>e.quote,get_genres:e=>{const t=e.quotes.map((e=>e.quoteGenre));return console.log(t,"genres"),[...new Set(t.flat())]}}},Te=(0,N.MT)({plugins:[(0,N.hu)()],modules:{quotes:Ee},state:{},getters:{},mutations:{},actions:{}});o(3734);(0,n.ri)(g).use(Te).use(qe).mount("#app")},7067:function(e,t,o){function n(e,t){return e.sort(((e,o)=>new Date(o[t])-new Date(e[t])))}o.d(t,{T:function(){return n}}),t["Z"]={computed:{parseDate(){return e=>new Date(e).toLocaleString({year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],a=e[c][2];for(var u=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(u=!1,a<s&&(s=a));if(u){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+".a93be208.js"}}(),function(){o.miniCssF=function(e){return"css/"+e+".4bdb2935.css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="alif-tech:";o.l=function(n,r,a,s){if(e[n])e[n].push(r);else{var u,i;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){u=d;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.setAttribute("data-webpack",t+a),u.src=n),e[n]=[r];var p=function(t,o){u.onerror=u.onload=null,clearTimeout(f);var r=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((function(e){return e(o)})),t)return t(o)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/Alif-tech/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,n,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var s=function(o){if(a.onerror=a.onload=null,"load"===o.type)n();else{var s=o&&("load"===o.type?"missing":o.type),u=o&&o.target&&o.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=s,i.request=u,a.parentNode&&a.parentNode.removeChild(a),r(i)}};return a.onerror=a.onload=s,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var r=o[n],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){r=s[n],a=r.getAttribute("data-href");if(a===e||a===t)return r}},n=function(n){return new Promise((function(r,a){var s=o.miniCssF(n),u=o.p+s;if(t(s,u))return r();e(n,u,null,r,a)}))},r={143:0};o.f.miniCss=function(e,t){var o={382:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={143:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(o,n){r=e[t]=[o,n]}));n.push(r[2]=a);var s=o.p+o.u(t),u=new Error,i=function(n){if(o.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,r[1](u)}};o.l(s,i,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,s=n[0],u=n[1],i=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in u)o.o(u,r)&&(o.m[r]=u[r]);if(i)var c=i(o)}for(t&&t(n);l<s.length;l++)a=s[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=self["webpackChunkalif_tech"]=self["webpackChunkalif_tech"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(6301)}));n=o.O(n)})();
//# sourceMappingURL=app.ab79f389.js.map